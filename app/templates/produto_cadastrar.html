{% extends "base.html" %}
{% block content %}

{% if current_user.is_authenticated %}
<main class="container">
    <div class="py-5 text-center">
        <h2>Cadastro de Produtos</h2>
        <p class="lead">Insira abaixo as informações do produto para cadastro.</p>
    </div>

    <div class="row g-5">
        <div class="col-md-12 col-lg-12">
            <form action="" method="POST">
                <h4 class="mb-3">Informações do Produto</h4>
                <div class="row g-3">

                    <div class="col-sm-12 col-md-8 form-floating">
                        <input type="text" class="form-control" id="nome" name="nome" placeholder="Nome" required>
                        <label for="nome" class="form-label">Nome<span style="color:red">&nbsp;*</span></label>
                    </div>

                    <div class="col-sm-12 col-md-4 form-floating">
                        <input type="float" class="form-control" id="valor" name="valor" placeholder="Preço" required>
                        <label for="preco" class="form-label">Preço<span style="color:red">&nbsp;*</span></label>
                    </div>

                    <div class="col-sm-12 col-md-12 form-floating">
                        <textarea type="text" class="form-control" id="descricao" name="descricao" placeholder="Descrição" style="height: 150px" required></textarea>
                        <label for="descricao" class="form-label">Descrição<span style="color:red">&nbsp;*</span></label>
                    </div>

                </div>

                <div class="mb-5"> </div> <!-- Espaçamento -->

                <!-- Mensagens de validação -->
                <div class="col-12 text-center">
                    {% if mensagem %}
                    <div class="alert alert-success" role="alert">
                        {{ mensagem }}
                    </div>
                    {% elif mensagem_erro %}
                    <div class="alert alert-danger" role="alert">
                        {{ mensagem_erro }}
                    </div>
                    {% endif %}
                </div>

                <div class="row g-3">
                    <div class="col-md-12 col-lg-6 p-2">
                        <a class="w-100 btn btn-outline-secondary btn-lg" href="javascript:history.back()">Voltar para anterior</a>
                    </div>
                    <div class="col-md-12 col-lg-6 p-2">
                        <button class="w-100 btn btn-success btn-lg" type="submit">Cadastrar Produto</button>
                    </div>
                </div> 

            </form>
        </div>
    </div>
</main>
{% else %}
    <meta http-equiv="refresh" content="0.1; url='http://localhost:5000/login'" />
{% endif %}
{% endblock %}